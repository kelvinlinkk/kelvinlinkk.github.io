userOpt = 0
level = 0
story = ["ä¸€éš»é£¢é¤“çš„ç‹ç‹¸çœ‹è¦‹è‘¡è„æ¶ä¸Šæ›è‘—ä¸€ä¸²ä¸²æ™¶ç‘©å‰”é€çš„ç²‰è‰²è‘¡è„ï¼Œå‚æ¶ä¸‰å°ºï¼Œæƒ³è¦æ‘˜ä¸‹ä¾†åƒï¼Œä½†æ†‘ç‰ çš„å››è‚¢éƒ½ç„¡æ³•æ‘˜åˆ°ï¼Œè«‹å¹«ç‰ å°‹æ‰¾å¯ä»¥è¼”åŠ©ç‰ çš„å·¥å…·ï¼Œè«‹é¸æ“‡ï¼š"
        ,"æ­£ç•¶ç‹ç‹¸è¦æŠŠè‘¡è„åƒæ‰çš„æ™‚å€™ï¼Œè‘¡è„çªç„¶è¢«è…³æ­¥è¿…é€Ÿå…”å­æ¶èµ°äº†ï¼Œé€™æ™‚ç«å†’ä¸‰ä¸ˆçš„ç‹ç‹¸æ‡‰è©²æ€éº¼åšå‘¢ï¼Ÿ"
        ,"å–Šå‡ºå’’èªå§ï¼"
        ,"ç¶“éä¸€ç•ªæ³¢æŠ˜ï¼Œç‹ç‹¸çµ‚æ–¼èƒ½å®‰å¿ƒçš„åƒä¸‹é‚£ä¸²å¥‡å¦™çš„è‘¡è„äº†ä¸€å£æ¥è‘—ä¸€å£ï¼Œç‹ç‹¸èƒ½æ„Ÿå—åˆ°ï¼Œæœ‰ä¸€è‚¡è«åçš„åŠ›é‡æ­£åœ¨æ¹§å…¥ç‰ çš„èº«é«”ï¼Œç‰ çš„è‚Œè‚‰è®Šå¾—æ›´åŠ çµå¯¦ï¼Œèº«è»€é¾å¤§ï¼Œç‰ æ´»æˆäº†å‹•ç‰©å€‘æ‰€ç•æ‡¼çš„å½¢è±¡ï¼Œå¤§å®¶çœ‹åˆ°ç‰ éƒ½è½è’è€Œé€ƒï¼Œ é€£ç‰ çš„ç™½ç‹å¥³æœ‹å‹éƒ½é›¢ç‰ é å»ï¼Œé€™æ™‚å€™æœ‰å€‹è€å¥¶å¥¶è¦éé¦¬è·¯ï¼Œè«‹å•ç‰ è¦åšå‡ºä»€éº¼è¡Œç‚ºå‘¢ï¼Ÿ"
        ,"ä»Šæ™šç‹ç‹¸è¦ç‚ºç‰ çš„å¥³å‹èˆ‰è¾¦ä¸€å ´ç”Ÿæ—¥æ´¾å°ï¼Œè«‹å•ç‰ è¦æº–å‚™ä»€éº¼æ¨£çš„ç¦®ç‰©æ‰èƒ½è¨ç™½ç‹å°å§çš„æ­¡å¿ƒå‘¢ï¼Ÿ"
        ,"ä¸ä¹…ä¹‹å¾Œä»–å€‘ä¾¿æ±ºå®šæ­¥å…¥å©šå§»ï¼Œä»–å€‘ä¸€èˆ¬æ–°å©šå¤«å¦»ä¸€æ¨£ï¼Œæœƒä¸€èµ·ç…®é£¯ã€ä¸€èµ·æ•çµï¼Œäº’ç›¸æ‰“é¬§ã€æ‰¶æŒï¼Œä½†èŠ±æœµä¹Ÿæœ‰ä»–çš„èŠ±æœŸï¼Œæ•¸å¹´å¾Œä»–å€‘çš„å©šå§»ä¹Ÿä¼´éš¨è‘—ä¸€å ´åµæ¶è€Œåˆ†é›¢ï¼Œ ç™½ç‹èªªï¼šã€Œæˆ‘ç•¶åˆçœŸçš„æ˜¯çäº†çœ¼æ‰è·Ÿä½ çµå©šï¼Œæˆ‘æ²’æœ‰ä½ ä¹Ÿå¯ä»¥éå¾—å¾ˆç€Ÿç‘ï¼Œå¤§ä¸äº†å°±é›¢å©šå•Šã€ç‹ç‹¸èªªï¼šã€Œäº‹æƒ…åˆ°æ­¤åœ°æ­¥ï¼Œæˆ‘å€‘ä¹‹é–“å°±æ²’æœ‰ä»€éº¼å¥½èªªçš„ï¼Œåˆ°æ­¤ç‚ºæ­¢å§ã€‚ã€è«‹å•ç‹ç‹¸è¦è©¦è‘—å»æŒ½å›é€™æ®µå·²ç¶“ç ´ç¢çš„å©šå§»å—ï¼Ÿ"
        ,"é›¢å©šå¾Œä»–å€‘çµ‚æ–¼å¯ä»¥åšå›è‡ªå·±ï¼Œä¸€å€‹äººçš„ä¸–ç•ŒåŒæ¨£æœ‰æœˆå‡æœˆè½ï¼Œä¹Ÿæœ‰ç¾éº—çš„ç¬é–“ï¼ŒæŠŠå®ƒæ­¸ç‚ºè¨˜æ†¶ã€‚ç™½ç‹æ²’äº†å©šç´„çš„æŸç¸›çµ‚æ–¼è¿ä¾†äº†è‡ªç”±ï¼Œç‹ç‹¸ä¹Ÿè®Šå›äº†ä¸å†å› æ„Ÿæƒ…è€Œå›°æ“¾çš„æœæ°£ç‹ç‹¸ï¼Œä¸€å€‹äººä¹Ÿå¯ä»¥éå¾—å¾ˆå¥½ï¼Œè¢å¹•å‰çš„ä½ ä¹Ÿä¸è¦å†ç‚ºæ„Ÿæƒ…æ‰€å›°äº†ï¼Œå…ˆæ„›è‡ªå·±åœ¨è©¦è‘—å»æ„›ä»–äººï¼Œå®Œçµç‘èŠ±ã€‚"]

var index  = 0
var lock = false
function getUserOpt(num){
    // console.log(level,num)
    userOpt = num
    setText(level,num)
}

function fadeIn(){
    var bt1 = document.getElementById('bt1');
    var bt2 = document.getElementById('bt2');
    var bt3 = document.getElementById('bt3');
    if(bt1.style.opacity != 0){
        return
    }
    for(let i = 0;i<=100;i++){
        setTimeout(()=>bt1.style.opacity = i/100,i*10)
        setTimeout(()=>bt2.style.opacity = i/100,i*10)
        setTimeout(()=>bt3.style.opacity = i/100,i*10)
    }
}
function fadeOut(){
    var bt1 = document.getElementById('bt1');
    var bt2 = document.getElementById('bt2');
    var bt3 = document.getElementById('bt3');
    for(let i = 0;i<=100;i++){
        setTimeout(()=>bt1.style.opacity = (100-i)/100,i*10)
        setTimeout(()=>bt2.style.opacity = (100-i)/100,i*10)
        setTimeout(()=>bt3.style.opacity = (100-i)/100,i*10)
    }
}

function cover(){
    var cover = document.getElementById('cover')
    if(cover.style.opacity!=0){
        return
    }
    for(let i = 0;i<=100;i++){
        setTimeout(()=>{cover.style.opacity = (100-i)/100;if(i==100){cover.style.visibility="hidden"}},i*10)
        
    }
}

function nowLevel(wait){
    var mytext = document.getElementById('text');
    var bt1 = document.getElementById('bt1');
    var bt2 = document.getElementById('bt2');
    var bt3 = document.getElementById('bt3');
    var h1 = document.getElementById('h1')
    mywords = ""

    index = 0
    lock = true
    function writing(index) {

        if (index < story[level].length) {
            mytext.innerHTML += story[level][index]
            setTimeout(writing.bind(this) ,60, ++index)
        }
        else{
            lock = false
        }
    }
    setTimeout(()=>{mytext.innerHTML = '';writing(index,wait);},wait)
    if(level==story.length-1){
        return
    }
    setTimeout(()=>{
    fadeIn()
    switch(level){
        case 0:
            bt1.innerHTML = "ç´è¥¿å¦²çš„å…ƒç´ æˆ°æŠ€ï¼ˆé è·é›¢å–ç´ æï¼‰"
            bt2.innerHTML = "æ¨¹æ"
            bt3.innerHTML = "é•·ç›¸å¥‡ç‰¹çš„é­”æ–"
            break;
        case 1:
            bt1.innerHTML = "æ‹¿é­”æ–æˆ³ç‰ "
            bt2.innerHTML = "æ‹¿é­”æ–ä¸Ÿç‰ "
            bt3.innerHTML = "æ‹¿é­”æ–ä½¿å‡ºæŠ€èƒ½"
            break;
        case 2:
            bt1.innerHTML = "åŸç¥å•Ÿå‹•ï¼ˆå£å—¨åˆ¥é¸ï¼‰"
            bt2.innerHTML = "avada kedavra(è®“äººäº‹ç‰©è¢«æ‘§æ¯€)"
            bt3.innerHTML = "é ˜åŸŸå±•é–‹ï¼ˆç”¨æ²™å£«å¹«å…”å­æ´—é ­ï¼‰"
            break;
        case 3:
            bt1.innerHTML = "æ‰¶è€å¥¶å¥¶éé¦¬è·¯"
            bt2.innerHTML = "è·Ÿç‰ ç´¢å–éŒ¢è²¡"
            bt3.innerHTML = "æ•…æ„åœ¨è»Šé–‹éä¾†çš„æ™‚å€™æŠŠç‰ æ¨å€’"
            break;
        case 4:
            bt1.innerHTML = "ç‰ æƒ³è¦å¾ˆä¹…çš„é¦™å¥ˆå…’åŒ…åŒ…"
            bt2.innerHTML = "ç‹ç‹¸çš„æ‰‹å¯«ä¿¡"
            bt3.innerHTML = "å•¥éƒ½ä¸çµ¦"
            break;
        case 5:
            bt1.innerHTML = "è¦"
            bt2.innerHTML = "ä¸è¦"
            bt3.innerHTML = "é¸æˆ‘å•Šç¬¨è›‹"
            break;
    }},wait)
    h1.innerHTML = 'Chapter ' + (level+1)
}

function setText(lev, opt){
    let flag = 0
    var mytext = document.getElementById('text')
    if(lock == true ){
        return
    }
    else switch(lev){
        case 0:

            if(opt == 0){mytext.innerHTML = "è¦ç©åŸç¥å›å®¶ç©ï¼Œé€™è£¡ä¸æ˜¯à­§( à²  Ğ” à²  )à­¨"}
            else if(opt == 1){mytext.innerHTML = "æ¨¹æéçŸ­ï¼Œäººå®¶éˆä¸åˆ°å•¦"}
            else{mytext.innerHTML = "ç‰ æ‹¿åˆ°é­”æ–ä¹‹å¾Œç™¼ç¾ç‰ å¯ä»¥éš¨å¿ƒæ„æ”¹è®Šå½¢ç‹€ï¼Œæ–¼æ˜¯ç‰ æˆåŠŸç²å¾—ä¸€ä¸²è‘¡è„ï¼";flag = 1}
            break

        case 1:

            if(opt == 0){mytext.innerHTML = "ç”±æ–¼é­”æ–å¤ªè„†å¼±ï¼Œä¸€æˆ³å°±æ–·..."}
            else if(opt == 1){mytext.innerHTML = "ç”±æ–¼ä¸Ÿä¸æº–ï¼Œå…”å­é€ƒèµ°äº†..."}
            else{mytext.innerHTML ="ç‹ç‹¸å°‡é­”æ–æŒ‡å‘äº†å…”å­ï¼"; flag = 1}
            break

        case 2:

            if(opt == 0){mytext.innerHTML = "åŸç¥å•Ÿå‹•æˆåŠŸï¼Œå•Šç„¶å¾Œå‘¢ï¼Ÿ";}
            else if(opt == 1){mytext.innerHTML = "å…”å­æˆåŠŸè¢«å’’èªæ“Šæ•—ï¼";flag = 1}
            else{mytext.innerHTML = "å…”å­ç¾å‘³å“åšå…©å£å°±è¹¦è¹¦è·³èµ°äº†...";}
            break

        case 3:

            if(opt == 0){mytext.innerHTML = "å–„è‰¯çš„ä½œç‚ºè¢«å…¨å‹•ç‰©ç•Œè®šæšï¼Œç‹ç‹¸ä¹Ÿé‡æ–°ç²å¾—äº†å¤§å®¶çš„å–œæ„›ğŸ§¡";flag = 1}
            else if(opt == 1){mytext.innerHTML = "å›å­æ„›è²¡å–ä¹‹æœ‰é“å•Šï¼"}
            else{mytext.innerHTML = "åœ°ç„åä¹å±¤ç‚ºä½ è€Œè¨­"}
            break

        case 4:

            if(opt == 0){mytext.innerHTML = "å…¶å¯¦ç‰ å·²ç¶“è²·éé€™æ¬¾äº†ï¼Œå‰å¹¾å¤©æ‰èƒŒè‘—é‚£å€‹åŒ…åŒ…å‡ºé–€ï¼Œç™½ç‹æŠ±æ€¨ç‹ç‹¸æ ¹æœ¬æ²’æ³¨æ„ç‰ ..."}
            else if(opt == 1){mytext.innerHTML = "ç™½ç‹çœ‹å®Œå¾Œæ„Ÿå‹•çš„è½æ·šï¼Œç‰ å€‘å …ä¿¡å½¼æ­¤èƒ½é•·é•·ä¹…ä¹…çš„ç¶­æŒæ„Ÿæƒ…ã€‚";flag = 1}
            else{mytext.innerHTML = "è¢«å¥³å‹å˜äº†á•¦(Ã²_Ã³Ë‡)á•¤"}
            break

        case 5:
    
            if(opt == 0){mytext.innerHTML = "é‡åˆ°å•é¡Œçš„ä»–å€‘å€†ä¾èˆŠæ²’å»é¢å°å•é¡Œçš„æ ¹æœ¬ï¼Œä¸”ä¸æ–·çš„å¿½è¦–å½¼æ­¤çš„æ„Ÿå—ï¼Œå†æ¬¡è¤‡åˆçš„å©šå§»åˆå‡ºç¾äº†è£‚ç—•..."}
            else if(opt == 1){mytext.innerHTML = "ä¸é©åˆçš„å°±ä¸è¦å»è¿åˆï¼Œæ²’æœ‰å½¼æ­¤ä»–å€‘è‡ªå·±çš„ç”Ÿæ´»ä¹Ÿå¯ä»¥éå¾—å¾ˆç²¾å½©ã€‚";flag = 1}
            else{mytext.innerHTML = "ç¬¨è›‹"}
            break

    } 

    if(flag==1){
        fadeOut() 
        level++
        nowLevel(3000)
    }else{
        nowLevel(3000)
    }
}